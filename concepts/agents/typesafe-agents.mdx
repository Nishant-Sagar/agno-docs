---
title: Typesafe Agents
sidebarTitle: Typesafe Agents
description: Learn how to use input and output schemas with Agents.
---

**Agents can use input and output schemas to validate data and ensure structured responses**.

You can define Pydantic models as schemas to validate input data and guarantee that Agent outputs follow a specific structure. Typesafe agents return structured data instead of unstructured text. This makes them reliable for production systems that need consistent output formats. You can also use a separate `parser_model` to handle output formatting.

The general syntax is:

```python
from agno.agent import Agent

agent = Agent(
    input_schema=YourInputModel,
    output_schema=YourOutputModel,
    parser_model=SomeModel(),  # Optional
)
```

## Typesafe Agent in Action

Here's an example of using input and output schemas with an Agent that researches HackerNews posts.

<Steps>
  <Step title="Create the typesafe agent">
    Create a file `typesafe_research_agent.py`

    ```python typesafe_research_agent.py
    from typing import List

    from agno.agent import Agent
    from agno.models.anthropic import Claude
    from agno.models.openai import OpenAIChat
    from agno.tools.hackernews import HackerNewsTools
    from pydantic import BaseModel, Field
    from rich.pretty import pprint


    # Define your input schema
    class ResearchTopic(BaseModel):
        topic: str
        sources_required: int = Field(description="Number of sources", default=5)


    # Define your output schema
    class ResearchOutput(BaseModel):
        summary: str = Field(..., description="Executive summary of the research")
        insights: List[str] = Field(..., description="Key insights from posts")
        top_stories: List[str] = Field(
            ..., description="Most relevant and popular stories found"
        )
        technologies: List[str] = Field(
            ..., description="Technologies mentioned"
        )
        sources: List[str] = Field(..., description="Links to the most relevant posts")


    # Define your agent
    hn_researcher_agent = Agent(
        # Model to use
        model=Claude(id="claude-sonnet-4-0"),
        # Tools to use
        tools=[HackerNewsTools()],
        instructions="Research hackernews posts for a given topic",
        # Add your input schema
        input_schema=ResearchTopic,
        # Add your output schema
        output_schema=ResearchOutput,
        # Model to use convert the output to the JSON schema
        parser_model=OpenAIChat(id="gpt-5-nano"),
    )

    # Run the Agent
    response = hn_researcher_agent.run(
        input=ResearchTopic(topic="AI", sources_required=5)
    )

    # Print the response
    pprint(response.content)
    ```
  </Step>
  <Step title="Run the agent">
    Install libraries

    ```shell
    pip install agno openai anthropic
    ```

    Set your API keys
    ```shell
    export ANTHROPIC_API_KEY=xxx
    export OPENAI_API_KEY=xxx
    ```

    Run the agent
    ```shell
    python typesafe_research_agent.py
    ```
  </Step>
</Steps>

The output is a structured `ResearchOutput` object:

```python
ResearchOutput(
    summary='AI development is accelerating with new breakthroughs in...',
    insights=['LLMs are becoming more efficient', 'Open source models gaining traction'],
    top_stories=['GPT-5 rumors surface', 'New Claude model released'],
    technologies=['GPT-4', 'Claude', 'Transformers'],
    sources=['https://news.ycombinator.com/item?id=123', '...']
)
```

## Input Validation

When you set `input_schema` on an Agent, it automatically validates the input against the Pydantic model.

```python
# This input will be validated against ResearchTopic
response = agent.run(input={"topic": "AI", "sources_required": 5})

# You can also pass a Pydantic object directly
response = agent.run(input=ResearchTopic(topic="AI", sources_required=5))
```

If the input doesn't match the schema, you'll get a validation error.

## Using a Parser Model

You can use a separate model to convert the Agent's output to structured JSON. This allows the main model to focus on reasoning while a specialized model handles formatting.

```python
agent = Agent(
    model=Claude(id="claude-sonnet-4-0"),  # Main reasoning model
    output_schema=ResearchOutput,
    parser_model=OpenAIChat(id="gpt-5-nano"),  # Formatting model
)
```

<Tip>
  Using a parser model can improve output reliability and reduce costs since you can use a smaller, faster model for formatting.
</Tip>

## Related Documentation

- [Input and Output](/concepts/agents/input-output) - Learn about basic structured input/output patterns  
- [Agent Schema](/reference/agents/agent) - Full Agent configuration reference
- [Examples Cookbook](https://github.com/agno-agi/agno/tree/main/cookbook/agents/input_and_output/) - More examples
